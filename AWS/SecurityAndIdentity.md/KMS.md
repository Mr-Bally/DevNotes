# AWS Key Management Service (KMS)

- Managed service for generating and storing cryptographic keys
- Used by most AWS services to encrypt your data (e.g. S3)
- AWS cannot recover keys once they are deleted
- They are responsible only for the OS and Hardware Security Modules which KMS runs on

## Core Components

- AWS KMS Keys:
  - Used for encrypting and decrypting data
  - Primary KMS key type
  - Can be used to generate data keys
  - Symmetric 256 bit key is the default
  - Can also provide public/private keys
- Customer Managed Keys:
  - Created, managed and controlled by customers
  - Keys created by customers in KMS
  - Manage aspects like key policies and other admin functionality (enabling, disabling, deleting, rotating)
- AWS Managed Keys
  - Created by AWS services
  - Perform same function as a customer managed key
  - Admin duties are furfilled by AWS
- AWS Owned Keys:
  - Used across multiple AWS accounts
- Data Keys:
  - Encrypt data outside of KMS (but key is generated by KMS)
  - Symmetric encryption used
  - Generates plain text data key and an encrypted key
  - KMS used to decrypt the data
- HMAC Keys:
  - Hash-based Message Authentication Codes
  - Symmetric key for verifying hash based authentication keys
- Key Material:
  - String of bits
  - Symmetric key
  - Key material can be stored in KMS, CloudHSM or an external key manager
- Key Policy:
  - Define who can use and access the key
  - Resource based policies
  - Different policies can be defined for different keys
- Grants:
  - Allow temporary access to a key
